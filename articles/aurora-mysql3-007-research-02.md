---
title: "Amazon Aurora MySQL v1Ôºà5.6 ‰∫íÊèõÔºâ‚Üí v3Ôºà8.0 ‰∫íÊèõÔºâÁßªË°å„ÇíË®àÁîª„Åô„ÇãÔºà7Ôºâ„Éë„É©„É°„Éº„Çø„Éª„Ç≥„Éº„ÉâÁ¢∫Ë™ç"
emoji: "üìë"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["aws", "aurora", "mysql", "ÁßªË°å", "„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„Éó"]
published: true
---

„Åì„Çå„ÅØ

- **[Amazon Aurora MySQL v1Ôºà5.6 ‰∫íÊèõÔºâ‚Üí v3Ôºà8.0 ‰∫íÊèõÔºâÁßªË°å„ÇíË®àÁîª„Åô„ÇãÔºà6ÔºâË©≥Á¥∞Ë™øÊüª„Å´„Å§„ÅÑ„Å¶](/hmatsu47/articles/aurora-mysql3-006-research-01)**

„ÅÆÁ∂ö„Åç„Åß„Åô„ÄÇ

Ë©≥Á¥∞Ë™øÊüªÁµêÊûú„ÇíÂÆüÈöõ„ÅÆ„Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„Éó„ÇÑ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Éª„Ç≥„Éº„ÉâÔºàSQL ÊñáÔºâ„Å™„Å©„Å®Á™Å„ÅçÂêà„Çè„Åõ„Å¶Á¢∫Ë™ç„Åó„Å¶„Åø„Åæ„Åô„ÄÇ

:::message
„Åì„Åì„Åß„ÅØ„ÄÅÁßÅ„ÅåÈñ¢„Çè„Å£„Å¶„ÅÑ„Çã„Çµ„Éº„Éì„Çπ„Çí‰æã„Å´Á¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
„Åü„Å†„Åó„ÄÅ‰∏ÄÈÉ®ÂÆüÈöõ„Å®„ÅØÁï∞„Å™„ÇãÈÉ®ÂàÜ„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ
:::

## „Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„Éó„ÅÆÊ§úË®é

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/aurora-mysql1_3_param.md

„Åì„Å°„Çâ„Å®ÂÆüÈöõ„Å´‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„ÉóÔºà„ÇØ„É©„Çπ„Çø„Å® DBÔºâ„ÇíÊØîËºÉ„Åó„Å¶„ÄÅÂØæÂøú„ÅåÂøÖË¶Å„Å™ÁÇπ„ÇíË¶ã‰ªò„Åë„Åæ„Åô„ÄÇ

ÁßÅ„ÅåÈñ¢„Çè„Å£„Å¶„ÅÑ„Çã„Çµ„Éº„Éì„Çπ„Åß„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆÁÇπ„ÅåÂá∫„Å¶„Åç„Åæ„Åó„Åü„ÄÇ

### `innodb_strict_mode`„ÅÆ„Éá„Éï„Ç©„É´„Éà„Åå **Âé≥ÂØÜ„É¢„Éº„Éâ** „Å´

https://dev.mysql.com/doc/refman/8.0/ja/innodb-parameters.html#sysvar_innodb_strict_mode

„Åì„Çå„ÅØÊ≠£Á¢∫„Å´„ÅØ Aurora MySQL v2ÔºàMySQL 5.7Ôºâ„ÅÆÊôÇÁÇπ„Åß„Éá„Éï„Ç©„É´„Éà„ÅåÂ§â„Çè„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ

‰∏ÄÈÉ®„ÅÆ SQL Êñá„ÅÆÂÆüË°å„Åß„ÄÅÂæìÊù•„ÅØË≠¶ÂëäÔºàWarningÔºâ„ÅßÊ∏à„Åæ„Åõ„Å¶„ÅÑ„Åü„ÅÆ„Çí„Ç®„É©„Éº„ÅßÊ≠¢„ÇÅ„ÇãÂãï‰Ωú„Å´Â§â„Çè„Çä„Åæ„Åó„Åü„ÄÇ„Åª„ÅºÂïèÈ°å„Å´„Å™„Çâ„Å™„ÅÑË¶ãËæº„Åø„Åß„Åô„Åå„ÄÅÂøµ„ÅÆ„Åü„ÇÅÂæìÊù•„ÅÆË®≠ÂÆö„Å´Âêà„Çè„Åõ„Å¶Âé≥ÂØÜ„É¢„Éº„Éâ„Çí OFF „Å´„Åó„Åæ„Åô„ÄÇ

:::message
Èñ¢ÈÄ£„Åô„ÇãÈ†ÖÁõÆ„Å´ **[`sql-mode`](https://dev.mysql.com/doc/refman/8.0/ja/sql-mode.html)** „Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
„Åì„Å°„Çâ„ÅØÊú¨ÂÆ∂ MySQL „ÅÆ„Éá„Éï„Ç©„É´„Éà„Å®„ÅØÈÅï„ÅÑ„ÄÅAurora MySQL „ÅÆ„Éá„Éï„Ç©„É´„Éà„Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„Éó„Åß„ÅØ v1 „Åã„Çâ v3 „Åæ„Åß`0`ÔºàÊú¨ÂÆ∂ MySQL „Åß„ÅØ **ÁÑ°ÊåáÂÆö** „Å´Áõ∏ÂΩìÔºâ„Åß„Åô„ÄÇ
:::

### `innodb_autoinc_lock_mode`„ÅÆ„Éá„Éï„Ç©„É´„Éà„Åå`1`„Åã„Çâ`2`„Å´

**`AUTO_INCREMENT`ÂÄ§** ÁîüÊàêÊôÇ„ÅÆ„É≠„ÉÉ„ÇØ„É¢„Éº„Éâ„Åß„Åô„ÄÇ

https://dev.mysql.com/doc/refman/8.0/ja/innodb-parameters.html#sysvar_innodb_autoinc_lock_mode

`2`„ÅÆ„Åª„ÅÜ„ÅåÊÄßËÉΩ‰∏äÊúâÂà©„Å™„ÅÆ„Åß„Åô„Åå„ÄÅÁßÅ„ÅåÈñ¢„Çè„Å£„Å¶„ÅÑ„Çã„Çµ„Éº„Éì„Çπ„Åß„ÅØ„ÄÅMySQL Connector/J „ÅÆ **[`rewriteBatchedStatements`„Ç™„Éó„Ç∑„Éß„É≥](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-performance-extensions.html#cj-conn-prop_rewriteBatchedStatements)** „Çí‰Ωø„Å£„Åü„Éê„ÉÉ„ÉÅ`INSERT`„Å® **[LAST_INSERT_ID()](https://dev.mysql.com/doc/refman/8.0/ja/information-functions.html#function_last-insert-id)** „ÇíÁµÑ„ÅøÂêà„Çè„Åõ„ÅüÂá¶ÁêÜ„ÇíË°å„Å£„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„Åå„ÅÇ„Å£„Åü„ÅÆ„Åß„ÄÅÂãï‰Ωú„ÅÆÂïèÈ°å„ÅåÁîü„Åò„ÇãÂèØËÉΩÊÄß„ÇíËÄÉ„Åà„Å¶ÂæìÊù•„Å®Âêå„Åò`1`„Å´Êàª„Åó„Åæ„Åô„ÄÇ

‰∏ÄÊñπ„ÄÅ‰ª•‰∏ã„ÅÆÁÇπ„Å´„Å§„ÅÑ„Å¶„ÅØÁâπ„Å´ÂïèÈ°å„Å´„Å™„Çâ„Å™„ÅÑ„Åì„Å®„Åå„Çè„Åã„Çä„Åæ„Åó„Åü„ÄÇ

### `tx_isolation`„Åå`transaction-isolation`„Å´Â§â„Çè„Å£„Åü

„Åì„Çå„ÅØ„Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„Éó„Å®„ÅÑ„ÅÜ„Çà„Çä„ÇÇ„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åã„Çâ DB „Å´Êé•Á∂ö„Åô„ÇãÈÉ®ÂàÜ„ÅÆÂÆüË£Ö„ÇÑ„É©„Ç§„Éñ„É©„É™„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥Ë®≠ÂÆö„Å´Èñ¢„Çè„ÇãÂïèÈ°å„Åß„Åô„Åå„ÄÅ‰ª•ÂâçËß¶„Çå„Åü **[„Çµ„Ç§„Éú„Ç¶„Ç∫„ÅÆ„Éñ„É≠„Ç∞Ë®ò‰∫ã](https://blog.cybozu.io/entry/2021/05/24/175000#%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%88%86%E9%9B%A2%E3%83%AC%E3%83%99%E3%83%AB%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B%E5%A4%89%E6%95%B0%E5%90%8D%E3%81%AE%E5%A4%89%E6%9B%B4)** „Åß„ÅØ„Åì„ÅÆÂ§âÊõ¥„ÅÆÂΩ±Èüø„ÇíÂèó„Åë„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ

ÁßÅ„ÅåÈñ¢„Çè„Å£„Å¶„ÅÑ„Çã„Çµ„Éº„Éì„Çπ„Åß„ÅØ„Åì„ÅÆ„Éë„É©„É°„Éº„Çø„Çí„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åã„ÇâÂ§âÊõ¥„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„Åß„ÄÅÂØæÂøú„ÅØ‰∏çË¶Å„Åß„Åô„ÄÇ

## „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Éª„Ç≥„Éº„Éâ„Å®„ÉÜ„Éº„Éñ„É´ÂÆöÁæ©„ÅÆÊ§úË®é

### „É©„Ç§„Éñ„É©„É™

DB Êé•Á∂öÁî®„ÅÆ„É©„Ç§„Éñ„É©„É™ÔºàMySQL Connector/JÔºâ„Çí MySQL 8.0 ÂØæÂøú„Éê„Éº„Ç∏„Éß„É≥„Å´Â§âÊõ¥„Åó„Åæ„Åô„ÄÇ

„Åù„ÅÆÈöõ„ÄÅTLS Êé•Á∂öÔºàTLS „Éê„Éº„Ç∏„Éß„É≥„ÅåÂêà„Çè„Å™„ÅÑ„ÄÅÈùû SSL „Åß„ÅØÊé•Á∂ö„Åß„Åç„Å™„ÅÑÁ≠âÔºâ„ÅÆÂïèÈ°å„ÅåÁîü„Åò„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„ÇãÁÇπ„ÇíÁïôÊÑè„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ

#### TLS Êé•Á∂ö„ÅÆÂ†¥Âêà

TLS „Éê„Éº„Ç∏„Éß„É≥„ÅÆÂïèÈ°å„ÅåÁîü„Åò„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„ÅôÔºàAurora MySQL ÁßªË°å„Çà„ÇäÂâç„Å´Êñ∞„Åó„ÅÑ„Éê„Éº„Ç∏„Éß„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™„Å´Êõ¥Êñ∞„Åô„ÇãÂ†¥ÂêàÔºâ„ÄÇ

https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Security.html#AuroraMySQL.Security.SSL.TLS_Version

#### Èùû TLS Êé•Á∂ö„ÅÆÂ†¥Âêà

„É©„Ç§„Éñ„É©„É™„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Å´„Çà„Å£„Å¶„ÅØ„ÄÅÊé•Á∂ö„Éë„É©„É°„Éº„Çø„Å´`sslMode=DISABLED`„ÅåÂøÖË¶Å„Å´„Å™„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ

https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html

:::message
ÁßªË°å‰ΩúÊ•≠‰∏≠„Å´‰∫íÊèõÊÄß„ÅÆÂïèÈ°å„ÅåÁîü„Åò„ÇãÊÅê„Çå„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„ÄÅ‰ª£„Çè„Çä„Å´ÈùûÊé®Â•®„ÅÆ`useSSL=false`„ÇíÊåáÂÆö„Åó„ÄÅÂïèÈ°å„ÅåÁîü„Åò„ÇãÊÅê„Çå„Åå„Å™„Åè„Å™„Å£„ÅüÊôÇÁÇπ„Åß`sslMode=DISABLED`„Å´Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ
:::

#### „Åù„ÅÆ‰ªñ

„Éë„É©„É°„Éº„Çø„Ç∞„É´„Éº„Éó„Åß„Éá„Éï„Ç©„É´„Éà„Å©„Åä„Çä`explicit_defaults_for_timestamp`„Å´`1`ÔºàÊúâÂäπÔºâ„ÇíÊåáÂÆö„Åó„ÅüÁä∂ÊÖã„Åß„ÄÅ

- MySQL Connector/J „ÅÆ„Éó„É™„Éö„Ç¢„Éâ„Çπ„ÉÜ„Éº„Éà„É°„É≥„Éà„Çí‰Ωø„Å£„Å¶
- `NOT NULL`„Åã„Å§`DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP`„ÅÆ`TIMESTAMP`„Éª`DATETIME`Âàó„Å´ÂØæ„Åó„Å¶
- `null`„Åß`UPDATE`„Åó„Åü„Å®„Åç

„ÅÆÊåôÂãï„Åå„ÄÅ

- Aurora MySQL v1„ÉªMySQL Connector/J 5.1 „ÅÆÁµÑ„ÅøÂêà„Çè„Åõ:`UPDATE`ÊôÇ„ÅÆ„Çø„Ç§„É†„Çπ„Çø„É≥„Éó„ÅßÊõ¥Êñ∞
- Aurora MySQL v3„ÉªMySQL Connector/J 8.0 „ÅÆÁµÑ„ÅøÂêà„Çè„Åõ:„Äå`NOT NULL`Âàó„Å´`null`„Åß`UPDATE`„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Å™„ÅÑ„ÄçÊó®„ÅÆ„Ç®„É©„Éº„ÅåÁô∫Áîü

„ÅÆ„Çà„ÅÜ„Å´Â§âÂåñ„Åô„Çã„Ç±„Éº„Çπ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ

ÂêåÊßò„ÅÆ‰∫ãË±°„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÅØ`null`„Åß„ÅØ„Å™„Åè`NOW()`„Å™„Å©„Åß`UPDATE`„Åô„ÇãÂΩ¢„Å´ SQL ÊñáÔºà„Éó„É™„Éö„Ç¢„Éâ„Çπ„ÉÜ„Éº„Éà„É°„É≥„ÉàÔºâ„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ

„Åæ„Åü„ÄÅConnector/J 8.0.29 „Åß`rewriteBatchedStatements=true`„ÅÆ„Å®„Åç„Å´`ROW_COUNT()`„ÅÆÁµêÊûú„Åå‰∏çÊ≠£„Å™‰∫ãË±°„ÇÇË¶ã„Å§„Åã„Å£„Å¶„ÅÑ„Åæ„ÅôÔºà8.0.28 „Å´Êàª„Åó„Å¶ÂõûÈÅøÔºâ„ÄÇ

### SQL Êñá„Å®„ÉÜ„Éº„Éñ„É´ÂÆöÁæ©

„Åì„Å°„Çâ„ÇÇ„ÅÑ„Åè„Å§„ÅãÊ§úË®é‰∫ãÈ†Ö„ÅåÂá∫„Å¶„Åç„Åæ„Åó„Åü„Åå„ÄÅÁµêÂ±Ä„ÄÅ‰∫ãÂâçÊîπ‰øÆ„ÅÆÂØæË±°„ÅØ‰∫àÁ¥ÑË™û„Å®„ÅÆ„Éê„ÉÉ„ÉÜ„Ç£„É≥„Ç∞ÁÆáÊâÄ„Å†„Åë„Å´„Å™„Çä„Åù„ÅÜ„Åß„Åô„ÄÇ

#### ‰∫àÁ¥ÑË™û

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/mysql57_80_reserved.md

Êó¢Â≠ò„Ç≥„Éº„Éâ„Åß„ÅØ`OF`„Å®`RANK`„ÅÆ„Éê„ÉÉ„ÉÜ„Ç£„É≥„Ç∞„ÅåÁ¢∫Ë™ç„Åï„Çå„Åæ„Åó„Åü„ÄÇ„Åì„ÅÆÁµêÊûú„Çí„Åµ„Åæ„Åà„Å¶„ÄÅ‰ªäÂõû„ÅØ‰∏ÄÊó¶‰ª•‰∏ã„ÅÆÂØæÂøú„Å®„Åó„Åæ„Åô„ÄÇ

- Êó¢Â≠ò„Ç≥„Éº„Éâ„Å´„Å§„ÅÑ„Å¶„ÅØ„Éê„ÉÉ„ÉÜ„Ç£„É≥„Ç∞ÁÆáÊâÄ„ÅÆ„ÅøÁõ¥„ÅôÔºà„Äå\`„Äç„ÅßÊã¨„ÇãÔºâ
- Êñ∞Ë¶è„Ç≥„Éº„Éâ„Å´„Å§„ÅÑ„Å¶„ÅØ„Éê„ÉÉ„ÉÜ„Ç£„É≥„Ç∞„ÅÆÊúâÁÑ°„Å´Èñ¢„Çè„Çâ„Åö„Éá„Éº„Çø„Éô„Éº„ÇπÔºà„Çπ„Ç≠„Éº„ÉûÔºâÂêç„Éª„ÉÜ„Éº„Éñ„É´Âêç„Éª„Ç´„É©„É†Âêç„Éª„Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÂêç„ÇÑ„Ç®„Ç§„É™„Ç¢„Çπ„Çí„Äå\`„Äç„ÅßÊã¨„Çã
  - `.`„ÅßÈÄ£Áµê„Åô„ÇãÂΩ¢Âºè„ÅßÊõ∏„Åã„Çå„Å¶„ÅÑ„ÇãÁÆáÊâÄ„ÅØÂøÖ„Åö„Åó„ÇÇ„Äå\`„Äç„ÅßÊã¨„ÇãÂøÖË¶Å„Åå„Å™„ÅÑ„Åå„ÄÅ„Éü„ÇπÈò≤Ê≠¢„ÅÆ„Åü„ÇÅÂÖ®„Å¶„Äå\`„Äç„ÅßÊã¨„Çã

#### „Éì„É´„Éà„Ç§„É≥Èñ¢Êï∞

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/mysql57_80_func_oper.md#%E3%83%93%E3%83%AB%E3%83%88%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0

**[„Çµ„Ç§„Éú„Ç¶„Ç∫„ÅÆ„Éñ„É≠„Ç∞Ë®ò‰∫ã](https://blog.cybozu.io/entry/2021/05/24/175000#SQL_CALC_FOUND_ROWS-%E3%81%A8-FOUND_ROWS-%E3%81%8C-deprecated-%E3%81%AB)** „Å´„ÇÇ„ÅÇ„Å£„Åü„ÄÅ`FOUND_ROWS()`Ôºà„Åä„Çà„Å≥`SQL_CALC_FOUND_ROWS`Ôºâ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü„ÄÇ

„Åì„Å°„Çâ„ÅØ„Éö„Éº„Ç∏„É£Ê©üËÉΩ„ÅÆÂÆüË£Ö„Åß‰Ωø„Å£„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ

- ÂÖà„Å´Êîπ‰øÆ„Åó„Å¶„Åã„Çâ Aurora MySQL v3 „Å´ÁßªË°å„Åô„Çã„Å®„ÄÅAurora MySQL v1 ÈÅãÁî®‰∏≠„ÅÆÊÄßËÉΩ‰Ωé‰∏ã„ÅÆÊÅê„Çå„Åå„ÅÇ„Çã„Åì„Å®
- ‰ªäÂæå„Éö„Éº„Ç∏„É£Ê©üËÉΩ„Åã„Çâ„Çπ„ÇØ„É≠„Éº„É´„Å™„Å©Âà•„ÅÆ UI „Å´Âàá„ÇäÊõø„Åà„ÇãÊ§úË®é„ÇíÈÄ≤„ÇÅ„Å¶„ÅÑ„Çã„Åì„Å®

„Å™„Å©„Åã„Çâ„ÄÅÁßªË°åÂâç„ÅÆÊîπ‰øÆ„ÅØË¶ãÈÄÅ„Çã„Åì„Å®„Å´„Åó„Åæ„Åô„ÄÇ

#### ÊñáÂ≠ó„Çª„ÉÉ„Éà„ÉªÁÖßÂêàÈ†ÜÂ∫è

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/mysql57_80_manual_all.md#%E6%96%87%E5%AD%97%E3%82%BB%E3%83%83%E3%83%88%E7%85%A7%E5%90%88%E9%A0%86%E5%BA%8F

‰∏ÄÈÉ®`utf8`Ôºà`utf8mb3`„ÅÆ„Ç®„Ç§„É™„Ç¢„ÇπÔºâ„ÅåÊÆã„Å£„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅÁèæÊôÇÁÇπ„Åß„ÅØ„Åæ„Å†„ÄåÈùûÊé®Â•®„Äç„Å™„ÅÆ„Åß„ÄÅÈÉΩÂêà‰∏ä‰ªäÂõû„ÅÆÁßªË°å„Å®„ÅØÂà•„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÅßÂØæÂøú„Åó„Åæ„Åô„ÄÇ

#### „Éá„Éº„ÇøÂûã

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/mysql57_80_manual_all.md#%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B

`DOUBLE(M,D)`„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ„Åì„Å°„Çâ„ÇÇÁèæÊôÇÁÇπ„Åß„ÅØ„ÄåÈùûÊé®Â•®„Äç„Åß„ÅÇ„Çä„ÄÅ‰∏ÄÊó¶Âà•„Çø„Ç§„Éü„É≥„Ç∞„Åß„ÅÆÂØæÂøú„Å®„Åó„Åæ„Åô„ÄÇ

#### „Åù„ÅÆ‰ªñ SQL „Çπ„ÉÜ„Éº„Éà„É°„É≥„Éà„Å™„Å©

https://github.com/hmatsu47/aurora_mysql1to3diff/blob/main/mysql57_80_manual_all.md#sql-%E3%82%B9%E3%83%86%E3%83%BC%E3%83%88%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AA%E3%81%A9

**[„Çµ„Ç§„Éú„Ç¶„Ç∫„ÅÆ„Éñ„É≠„Ç∞Ë®ò‰∫ã](https://blog.cybozu.io/entry/2021/05/24/175000#GROUP-BY-a-ASC-%E3%81%AE%E5%BB%83%E6%AD%A2)** „Å´„ÇÇ„ÅÇ„Å£„Åü`GROUP BY „ÄêÂàóÂêç„Äë ASC/DESC`„Åß„Åô„Åå„ÄÅ **ÊöóÈªô„ÅÆÊòáÈ†Ü„ÇΩ„Éº„Éà** Ôºà`ASC`„ÅåÁúÅÁï•„Åï„Çå„Å¶„ÅÑ„Çã„ÇÇ„ÅÆÔºâ„ÅåÊØîËºÉÁöÑÂ§öÊï∞Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü„ÄÇ

„Åì„Çå„ÅØË¶ãÈÄÉ„Åó„ÇÑ„Åô„ÅÑ„ÅÆ„ÅßÊ≥®ÊÑè„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ

## ÂÆüÈöõ„Å´Âãï„Åã„Åó„Å¶„Åø„Å™„ÅÑ„Å®„Çè„Åã„Çâ„Å™„ÅÑ„ÇÇ„ÅÆ„ÇÇ„ÅÇ„Çã

„Åì„Åì„Åæ„Åß„ÅØË™øÊüªË≥áÊñô„Åã„ÇâÂà§Âà•„Åß„Åç„Åæ„Åó„Åü„Åå„ÄÅ‰∏ÄÈÉ®„ÄÅ„Åù„Çå„ÅåÈõ£„Åó„ÅÑÈ†ÖÁõÆ„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ

### `RIGHT JOIN`„ÅÆ‰øÆÊ≠£ÔºàMySQL 8.0.22Ôºâ

MySQL 8.0.22 „ÅÆ„É™„É™„Éº„Çπ„Éé„Éº„Éà„ÅÆ **[Optimizer Notes](https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-22.html#mysqld-8-0-22-optimizer)** „Å´„ÄÅ

> When using a RIGHT JOIN, some internal objects, were not converted to those suitable for use with a LEFT JOIN as intended. These included some lists of tables built at parse time, but which did not have their order reversed. This required maintaining code to handle instances in which a LEFT JOIN was originally a RIGHT JOIN as special cases, and was the source of several bugs. Now the server performs any necessary reversals at parse time, so that after parsing, a RIGHT JOIN is in fact, in all respects, a LEFT JOIN. (Bug #30887665, Bug #30964002)
>
> References: See also: Bug #12567331, Bug #21350125.

„Å®„ÅÑ„ÅÜÈ†ÖÁõÆ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ`RIGHT JOIN`ÂÆüË°åÊôÇ„ÄÅÂÜÖÈÉ®ÁöÑ„Å´`LEFT JOIN`„Å´Êõ∏„ÅçÊèõ„Åà„ÇãÂá¶ÁêÜ„Å´‰∏çÈÅ©Âàá„Å™ÈÉ®ÂàÜ„Åå„ÅÇ„Å£„Åü„ÅÆ„ÇíÊîπ‰øÆ„Åó„Åü„Å®„ÅÑ„ÅÜË∂£Êó®„Åß„Åô„Åå„ÄÅ„Åì„Çå„Çâ„ÅÆ„Éê„Ç∞„Éà„É©„ÉÉ„Ç≠„É≥„Ç∞Áï™Âè∑„ÅÆÊÉÖÂ†±„Åå„ÇØ„É≠„Éº„Ç∫„Åï„Çå„Å¶„Åó„Åæ„ÅÑÂÜÖÂÆπ„ÅåË™≠„ÇÅ„Å™„ÅÑ„ÅÆ„Åß„ÄÅ„Åì„Å°„Çâ„ÅØÂÆüÈöõ„Å´Âãï‰Ωú„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åø„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åù„ÅÜ„Åß„Åô„ÄÇ

### `UNION`„ÅÆÊßãÊñáËß£Êûê„Å®Âãï‰Ωú„ÅÆÂ§âÊõ¥ÔºàMySQL 8.0.19 „Å™„Å©Ôºâ

„Éû„Éã„É•„Ç¢„É´„ÅÆ UNION Âè•„ÅÆ„Éö„Éº„Ç∏‰∏≠„ÄÅ

https://dev.mysql.com/doc/refman/8.0/ja/union.html#union-distinct-all

„Åì„Åì„Åã„Çâ‰∏ã„ÅÆÂêÑÈ†ÖÁõÆ„Å´„Å§„ÅÑ„Å¶„ÅØÂÜÖÂÆπ„ÇíË™≠„ÇÄÈôê„Çä„Åß„ÅØÂïèÈ°å„ÅØ„Å™„Åï„Åù„ÅÜ„Åß„Åô„Åå„ÄÅ„Ç´„ÉÉ„Ç≥„ÅÆË®òËø∞„Å™„Å©„ÅåÂãï‰Ωú„Å´ÂΩ±Èüø„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„Åü„ÇÅ„ÄÅÂøµ„ÅÆ„Åü„ÇÅÂÆüÈöõ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÅÆÈöõ„Å´Â§âÂåñ„ÅåÁîü„Åò„Å™„ÅÑ„ÅãÊ∞ó„Çí‰ªò„Åë„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åù„ÅÜ„Åß„Åô„ÄÇ

:::message
**[„Çµ„Ç§„Éú„Ç¶„Ç∫„ÅÆË®ò‰∫ã](https://blog.cybozu.io/entry/2021/05/24/175000#UNION-%E5%8F%A5%E3%81%A8-FOR-UPDATE-%E3%82%92%E4%BD%BF%E3%81%86%E5%A0%B4%E5%90%88%E3%81%AB%E6%8B%AC%E5%BC%A7%E3%81%8C%E8%BF%BD%E5%8A%A0%E3%81%A7%E5%BF%85%E8%A6%81)** „Åß„ÅØ`FOR UPDATE`„Å®„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„Å´„Å§„ÅÑ„Å¶Ëß¶„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ
:::

---

- **[Amazon Aurora MySQL v1Ôºà5.6 ‰∫íÊèõÔºâ‚Üí v3Ôºà8.0 ‰∫íÊèõÔºâÁßªË°å„ÇíË®àÁîª„Åô„ÇãÔºà8ÔºâÂãï‰ΩúÁ¢∫Ë™ç](/hmatsu47/articles/aurora-mysql3-008-ope-check)**

„Å´Á∂ö„Åç„Åæ„Åô„ÄÇ
